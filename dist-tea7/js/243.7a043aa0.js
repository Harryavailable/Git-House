"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[243],{8243:function(t,i,s){s.r(i),s.d(i,{default:function(){return d}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"list"},[i("header",[i("div",{staticClass:"returns",on:{click:t.goBanckHome}},[i("i",{staticClass:"iconfont icon-fanhui"})]),t._m(0),t._m(1)]),i("section",[i("div",{staticClass:"list-l"},[i("ul",{staticClass:"list-item"},t._l(t.listData,(function(s,e){return i("li",{key:s.id,class:t.lListindex==e?"active":"",on:{click:function(i){return t.leftLiClick(e)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]),i("div",{ref:"wrapper",staticClass:"list-r"},[i("div",[t._m(2),i("div",{ref:"right",staticClass:"list-r-b"},[i("ul",t._l(t.listData,(function(s){return i("li",{key:s.id,staticClass:"shop-list"},[i("h2",[t._v(t._s(s.name))]),i("ul",{staticClass:"r-content"},t._l(s.data,(function(s){return i("li",{key:s.id},[i("img",{attrs:{src:s.imgUrl}}),i("span",[t._v(t._s(s.name))])])})),0)])})),0)])])]),i("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(this.currentIndex))])]),i("Tabber",{staticClass:"tabber"})],1)},a=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"search"},[i("i",{staticClass:"iconfont icon-fangdajing"}),i("input",{attrs:{type:"text",placeholder:"输入框"}})])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"home"},[i("i",{staticClass:"iconfont icon-zhuye"})])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"list-r-h"},[i("img",{attrs:{src:"https://img2.baidu.com/it/u=181794609,2918736279&fm=253&fmt=auto&app=138&f=JPEG?w=750&h=500",alt:"茶叶"}})])}],l=(s(7658),s(1529)),r=s(5109),n=s(6618),c={name:"List-vue",components:{Tabber:l.Z},data(){return{listData:[],lListindex:0,allHeight:[240],rightBScroll:null,scrollY:0}},created(){this.getDataList()},computed:{currentIndex(){let t=0,i=this.scrollY;while(i>0)i-=this.allHeight[t],t++,t>9&&(t=9);return this.leftLiClick(t-11),t}},methods:{async getDataList(){let t=await(0,n.W)();200==t.data.code&&(this.listData=t.data.data),this.$nextTick((()=>{this.rightBScroll=new r.ZP(this.$refs.wrapper,{movable:!0,zoom:!0,click:!0,probeType:3})})),this.$nextTick((()=>{let t=this.$refs.right.getElementsByClassName("shop-list");Array.from(t).forEach((t=>{this.allHeight.push(t.clientHeight)})),this.rightBScroll.on("scroll",(t=>{this.scrollY=Math.abs(t.y)}))}))},leftLiClick(t){if(t>=0){this.lListindex=t;let i=0;for(let s=0;s<=t;s++)i+=this.allHeight[s];this.rightBScroll.scrollTo(0,-i,300),i=0}else t+=10,t<=0&&(t=0),this.lListindex=t},goBanckHome(){this.$router.push({path:"/home"})}}},o=c,h=s(1001),u=(0,h.Z)(o,e,a,!1,null,"fbd884c4",null),d=u.exports},6618:function(t,i,s){s.d(i,{P:function(){return l},W:function(){return a}});var e=s(8859);const a=()=>(0,e.Z)({url:"/api/goods/list",method:"get"}),l=t=>(0,e.Z)({url:"/api/goods/id",method:"get",params:{id:t}})}}]);
//# sourceMappingURL=243.7a043aa0.js.map