"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[480],{1480:function(s,t,i){i.r(t),i.d(t,{default:function(){return h}});var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"detail"},[t("header",[t("div",{directives:[{name:"show",rawName:"v-show",value:s.isShow,expression:"isShow"}],staticClass:"header-returns"},[t("i",{staticClass:"iconfont icon-fanhui",on:{click:s.backNextPage}}),t("i",{staticClass:"iconfont icon-zhuye"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:!s.isShow,expression:"!isShow"}],staticClass:"header-bar",style:s.styleOption},[t("i",{staticClass:"iconfont icon-fanhui",on:{click:s.backNextPage}}),t("span",{staticClass:"heightSpan"},[s._v("商品详情")]),t("span",[s._v("商品评价")]),t("i",{staticClass:"iconfont icon-zhuye"})])]),t("section",{ref:"wrapper"},[t("div",[t("div",{staticClass:"swiper"},[t("swiper",{staticClass:"swiper-main",attrs:{options:s.swiperOption}},s._l(s.swiperList,(function(s){return t("swiper-slide",{key:s.id},[t("img",{attrs:{src:s.imgUrl,id:"swiper-img"}})])})),1),t("div",{staticClass:"swiper-pagination"})],1),t("div",{staticClass:"goods-name"},[t("h1",[s._v(s._s(s.newSwiperList[0]?.name))]),t("span",[s._v(s._s(s.newSwiperList[0]?.recommed)+" ")])]),t("div",{staticClass:"goods-price"},[t("div",{staticClass:"oprice"},[t("span",[s._v("￥")]),t("b",[s._v(s._s(s.newSwiperList[0]?.price))])]),s._m(0)]),t("div",{staticClass:"goode-img"},[t("h4",[s._v("商品展示")]),t("img",{attrs:{src:s.newSwiperList[0]?.imgUrl,alt:s.newSwiperList[0]?.content}}),t("img",{attrs:{src:"https://img.tea7.com/0010994_0.png?x-oss-process=image/resize,w_800",alt:""}}),t("img",{attrs:{src:"https://img.tea7.com/0159004_0.png?x-oss-process=image/resize,w_800",alt:""}}),t("img",{attrs:{src:"https://img.tea7.com/0010993_0.jpeg?x-oss-process=image/resize,w_800",alt:""}})])])]),t("footer",[t("ul",[s._m(1),s._m(2),s._m(3),t("li",{staticClass:"addShopCat",on:{click:s.addShopCat}},[t("span",[s._v("加入购物车")])]),s._m(4)])])])},a=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"pprice"},[t("span",[s._v("原价:")]),t("s",[s._v("￥349")])])},function(){var s=this,t=s._self._c;return t("li",[t("i",{staticClass:"iconfont icon-erji"}),t("span",[s._v("客服")])])},function(){var s=this,t=s._self._c;return t("li",[t("i",{staticClass:"iconfont icon-gouwugouwuchedinggou"}),t("span",[s._v("购物车")])])},function(){var s=this,t=s._self._c;return t("li",[t("i",{staticClass:"iconfont icon-shoucang"}),t("span",[s._v("收藏")])])},function(){var s=this,t=s._self._c;return t("li",{staticClass:"buyNow"},[t("span",[s._v("立即购买")])])}],o=(i(7658),i(5109)),r=i(6618),n=i(6665),c=i(9146),p={name:"detail-vue",data(){return{styleOption:{opacity:0},Bodyscroll:null,isShow:!0,swiperOption:{autoplay:3e3,speed:1e3,pagination:{el:".swiper-pagination",clickable:!0,type:"fraction"}},swiperList:[{id:0,imgUrl:"https://img.tea7.com/0010445_0.jpeg?x-oss-process=image/resize,w_800"},{id:1,imgUrl:"https://img.tea7.com/0011816_0.jpeg?x-oss-process=image/resize,w_500"},{id:2,imgUrl:"\thttps://img.tea7.com/0012514_0.jpeg?x-oss-process=image/resize,w_800"}],newSwiperList:[],goodsId:-1}},created(){this.goodsId=this.$route.query.id,this.getGoodsList()},mounted(){this.$nextTick((()=>{this.Bodyscroll=new o.ZP(this.$refs.wrapper,{movable:!0,zoom:!0,click:!0,probeType:3}),this.Bodyscroll.on("scroll",(s=>{let t=Math.abs(s.y),i=t/200;i=i>1?1:i,this.styleOption.opacity=i,this.isShow=!(t>=100)}))}))},activated(){this.$route.query.id!=this.goodsId&&(this.getGoodsList(),this.goodsId=this.$route.query.id)},methods:{backNextPage(){this.$router.back()},async getGoodsList(){let s=this.goodsId,t=await(0,r.P)(s);200==t.data.code&&(this.newSwiperList=t.data.data)},async addShopCat(){let s=JSON.parse(localStorage.getItem("teaUserInfo"));if(s&&s.success){let s=await(0,n.xL)(this.goodsId);200==s.data.code&&c.Z.success("加入购物车成功")}else this.$router.push("/login")}}},l=p,d=i(1001),u=(0,d.Z)(l,e,a,!1,null,"102bf3fc",null),h=u.exports},6618:function(s,t,i){i.d(t,{P:function(){return o},W:function(){return a}});var e=i(8859);const a=()=>(0,e.Z)({url:"/api/goods/list",method:"get"}),o=s=>(0,e.Z)({url:"/api/goods/id",method:"get",params:{id:s}})},6665:function(s,t,i){i.d(t,{$x:function(){return n},CI:function(){return r},IU:function(){return o},N:function(){return c},xL:function(){return a}});var e=i(8859);const a=s=>(0,e.Z)({url:"/api/shop/addCart",method:"post",data:{goodsId:s}}),o=()=>(0,e.Z)({url:"/api/shop/getShopList",method:"get"}),r=s=>(0,e.Z)({url:"/api/shop/deleteCart",method:"post",data:{id:s}}),n=s=>(0,e.Z)({url:"/api/shop/deleteAllCart",method:"post",data:{idArr:s}}),c=(s,t)=>(0,e.Z)({url:"/api/shop/updateShopNum",method:"post",data:{id:s,num:t}})}}]);
//# sourceMappingURL=480.69e560f8.js.map