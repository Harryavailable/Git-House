"use strict";(self["webpackChunkvue_tea"]=self["webpackChunkvue_tea"]||[]).push([[846],{4872:function(e,s,t){t.d(s,{Z:function(){return d}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"header"},[s("i",{staticClass:"iconfont icon-fanhui",on:{click:e.goMyPage}}),s("span",[e._v(e._s(e.headerName))]),s("i",{staticClass:"iconfont icon-zhuye",on:{click:e.goHomePage}})])},r=[],o=(t(7658),{name:"login-header",props:["headerName"],methods:{goMyPage(){this.$router.push("/my")},goHomePage(){this.$router.push("/home")}}}),i=o,n=t(1001),u=(0,n.Z)(i,a,r,!1,null,"19f70dfa",null),d=u.exports},9846:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"register container"},[s("Header",{attrs:{headerName:"注册"}}),s("section",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:e.userTel},on:{input:function(s){s.target.composing||(e.userTel=s.target.value)}}})]),e._m(0),s("div",{staticClass:"messageyam"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userCode,expression:"userCode"}],attrs:{type:"text",placeholder:"请输入短信验证码",pattern:"[0-9]*"},domProps:{value:e.userCode},on:{input:function(s){s.target.composing||(e.userCode=s.target.value)}}}),s("button",{class:e.disabled?"bisabled":"",attrs:{disabled:e.disabled},on:{click:e.sendCode}},[e._v(" 获取短信验证码 ")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],attrs:{type:"text",placeholder:"请设置密码"},domProps:{value:e.userPassword},on:{input:function(s){s.target.composing||(e.userPassword=s.target.value)}}})]),s("div",{staticClass:"userlogin",on:{click:e.userLoginIn}},[s("b",[e._v("注册")])]),s("span",{staticClass:"khfw"},[e._v("注册视为同意《客户服务协议》")])]),s("Tabber")],1)},r=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"yzm"},[s("input",{attrs:{type:"text",placeholder:"请输入图形验证码"}}),s("button",[e._v(" Pe67 ")])])}],o=(t(7658),t(1529)),i=t(4872),n=t(4843),u=t(2223),d={name:"register-vue",components:{Tabber:o.Z,Header:i.Z},data(){return{rules:{userTel:{rule:/0?(13|14|15|18|17|19)[0-9]{9}/,msg:"手机号输入有误"},password:{rule:/^\w{6,12}$/,msg:"请输入6-12位密码"}},userTel:"",userCode:"",disabled:!1,code:"",userPassword:""}},methods:{async sendCode(){let e=this.validate();if(e){clearTimeout(s),this.disabled=!0;let e=await(0,u.rA)(this.userTel);200==e.data.code&&(this.code=e.data.data.data)}var s=setTimeout((()=>{this.disabled=!1}),15e3)},validate(){let e=!0;return this.rules.userTel.rule.test(this.userTel)?e:((0,n.Toast)({message:this.rules.userTel.msg}),e=!1,!1)},pwdValidate(){let e=!0;return this.rules.userTel.rule.test(this.userTel)&&this.rules.password.rule.test(this.userPassword)?e:((0,n.Toast)({message:this.rules.userTel.msg}),e=!1,!1)},async userLoginIn(){let e=this.pwdValidate();if(e){let e=await(0,u.N$)(this.userTel,this.userPassword);200!=e.data.code?(0,n.Toast)({message:"用户注册失败",duration:1e3}):((0,n.Toast)({message:"用户注册成功",duration:1e3}),setTimeout((()=>{this.$router.push("/passwordLogin")}),1500))}}}},l=d,c=t(1001),p=(0,c.Z)(l,a,r,!1,null,"aa835e6e",null),h=p.exports},2223:function(e,s,t){t.d(s,{N$:function(){return i},fQ:function(){return n},rA:function(){return o},tf:function(){return u},z5:function(){return r}});var a=t(8859);const r=(e,s)=>(0,a.Z)({url:"/api/login/passwordLogin",method:"post",data:{tel:e,pwd:s}}),o=e=>(0,a.Z)({url:"/api/login/code",method:"post",data:{phone:e}}),i=(e,s)=>(0,a.Z)({url:"/api/login/adduser",method:"post",data:{phone:e,password:s}}),n=e=>(0,a.Z)({url:"/api/login/userCodeLogin",method:"post",data:{phone:e}}),u=(e,s)=>(0,a.Z)({url:"/api/login/findPassword",method:"post",data:{phone:e,password:s}})}}]);
//# sourceMappingURL=846.d7fab970.js.map