{"version":3,"file":"js/318.ec12f9d9.js","mappings":"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","sources":["webpack://vue-tea/./src/views/login/Header.vue","webpack://vue-tea/src/views/login/Header.vue","webpack://vue-tea/./src/views/login/Header.vue?0078","webpack://vue-tea/./src/views/login/Header.vue?105e","webpack://vue-tea/./src/views/login/login.vue","webpack://vue-tea/src/views/login/login.vue","webpack://vue-tea/./src/views/login/login.vue?772f","webpack://vue-tea/./src/views/login/login.vue?d78d","webpack://vue-tea/./src/api/login.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('i',{staticClass:\"iconfont icon-fanhui\",on:{\"click\":_vm.goMyPage}}),_c('span',[_vm._v(_vm._s(_vm.headerName))]),_c('i',{staticClass:\"iconfont icon-zhuye\",on:{\"click\":_vm.goHomePage}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header\">\r\n    <i class=\"iconfont icon-fanhui\" @click=\"goMyPage\"></i>\r\n    <span>{{ headerName }}</span>\r\n    <i class=\"iconfont icon-zhuye\" @click=\"goHomePage\"></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"login-header\",\r\n  props: [\"headerName\"],\r\n  methods: {\r\n    goMyPage() {\r\n      this.$router.push(\"/my\");\r\n    },\r\n    goHomePage() {\r\n      this.$router.push(\"/home\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.header {\r\n  box-sizing: border-box;\r\n  padding: 0 0.3rem;\r\n  width: 100%;\r\n  height: 1.2rem;\r\n  background-color: #b0352f;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  i {\r\n    color: #fff;\r\n    font-size: 0.7rem;\r\n    font-weight: 500;\r\n  }\r\n  span {\r\n    text-align: center;\r\n    color: #fff;\r\n    font-size: 0.5rem;\r\n    font-weight: 500;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=19f70dfa&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=19f70dfa&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19f70dfa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login container\"},[_c('Header',{attrs:{\"headerName\":\"登录\"}}),_c('section',[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userTel),expression:\"userTel\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.userTel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userTel=$event.target.value}}})]),_vm._m(0),_c('div',{staticClass:\"messageyam\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userCode),expression:\"userCode\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入短信验证码\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.userCode)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userCode=$event.target.value}}}),_c('button',{class:_vm.disabled ? 'bisabled' : '',attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.sendCode}},[_vm._v(\" 获取短信验证码 \")])]),_c('div',{staticClass:\"userlogin\",on:{\"click\":_vm.userLoginIn}},[_c('b',[_vm._v(\"登录\")])]),_c('div',{staticClass:\"bbb\"},[_c('span',{on:{\"click\":_vm.goUserLogin}},[_c('i',{staticClass:\"iconfont icon-mima\"}),_vm._v(\"密码登录\")]),_c('span',{on:{\"click\":_vm.quickRegister}},[_c('i',{staticClass:\"iconfont icon-shouji\"}),_vm._v(\" 快速注册\")])])]),_c('Tabber')],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yzm\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入图形验证码\"}}),_c('button',[_vm._v(\" 4832 \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login container\">\r\n    <Header headerName=\"登录\"></Header>\r\n    <section>\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"请输入手机号\"\r\n          pattern=\"[0-9]*\"\r\n          v-model=\"userTel\"\r\n        />\r\n      </div>\r\n      <div class=\"yzm\">\r\n        <input type=\"text\" placeholder=\"请输入图形验证码\" /><button>\r\n          4832\r\n        </button>\r\n      </div>\r\n      <div class=\"messageyam\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"请输入短信验证码\"\r\n          pattern=\"[0-9]*\"\r\n          v-model=\"userCode\"\r\n        /><button\r\n          @click=\"sendCode\"\r\n          :disabled=\"disabled\"\r\n          :class=\"disabled ? 'bisabled' : ''\"\r\n        >\r\n          获取短信验证码\r\n        </button>\r\n      </div>\r\n      <div class=\"userlogin\" @click=\"userLoginIn\"><b>登录</b></div>\r\n      <div class=\"bbb\">\r\n        <span @click=\"goUserLogin\"\r\n          ><i class=\"iconfont icon-mima\"></i>密码登录</span\r\n        >\r\n        <span @click=\"quickRegister\"\r\n          ><i class=\"iconfont icon-shouji\"></i> 快速注册</span\r\n        >\r\n      </div>\r\n    </section>\r\n    <Tabber></Tabber>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tabber from \"@/components/common/Tabber.vue\";\r\nimport Header from \"@/views/login/Header.vue\";\r\nimport { Toast } from \"mint-ui\";\r\nimport { getMsgCard, codeLogin } from \"@/api/login.js\";\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"login-vue\",\r\n  components: {\r\n    Header,\r\n    Tabber,\r\n  },\r\n  data() {\r\n    return {\r\n      rules: {\r\n        //手机号验证\r\n        userTel: {\r\n          rule: /0?(13|14|15|18|17)[0-9]{9}/,\r\n          msg: \"手机号输入有误\",\r\n        },\r\n      },\r\n      userTel: \"\", //用户手机号\r\n      disabled: false, //用户是否点击了发送短信验证码\r\n      code: \"\", //后台返回的短信验证码\r\n      userCode: \"\", //用户输入的短信验证码\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"USER_LOGIN\"]),\r\n    goUserLogin() {\r\n      this.$router.push(\"/passwordLogin\");\r\n    },\r\n    quickRegister() {\r\n      this.$router.push(\"/register\");\r\n    },\r\n    async userLoginIn() {\r\n      console.log(11, this.userCode, this.code);\r\n      if (\r\n        this.userCode != \"\" &&\r\n        this.userCode == this.code &&\r\n        this.validate()\r\n      ) {\r\n        //用户登录成功\r\n        let res = await codeLogin(this.userTel);\r\n        console.log(res.data);\r\n        if (res.data.code == 200) {\r\n          Toast({\r\n            message: res.data.data.msg,\r\n            duration: 1000,\r\n          });\r\n          this.USER_LOGIN(res.data.data);\r\n          setTimeout(() => {\r\n            this.$router.push(\"/home\");\r\n          }, 1500);\r\n        } else {\r\n          Toast({\r\n            message: res.data.data.msg,\r\n            duration: 1000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    //点击获取短信验证码\r\n    async sendCode() {\r\n      let bool = this.validate();\r\n      if (bool) {\r\n        //发送短信验证码\r\n        clearTimeout(settime);\r\n        this.disabled = true;\r\n        // 请求短信验证码接口\r\n        let res = await getMsgCard(this.userTel);\r\n        if (res.data.code == 200) {\r\n          this.code = res.data.data.data;\r\n        }\r\n      }\r\n      var settime = setTimeout(() => {\r\n        this.disabled = false;\r\n      }, 15000);\r\n    },\r\n    //用户输入的手机号验证\r\n    validate() {\r\n      let bool = true;\r\n      if (!this.rules.userTel.rule.test(this.userTel)) {\r\n        Toast({\r\n          message: this.rules.userTel.msg,\r\n        });\r\n        bool = false;\r\n        return false;\r\n      }\r\n      return bool;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\nsection {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  background-color: #f5f5f5;\r\n  font-size: 0.32rem;\r\n  padding: 0.5rem 0;\r\n  div {\r\n    width: 80%;\r\n    height: 1.5rem;\r\n    line-height: 1.5rem;\r\n    margin: 0 auto;\r\n    input {\r\n      height: 1rem;\r\n      width: 80%;\r\n      line-height: 1rem;\r\n      padding: 0 0.3rem;\r\n      background-color: #fff;\r\n      border: 1px solid #ccc;\r\n    }\r\n  }\r\n  .yzm {\r\n    input {\r\n      width: 60%;\r\n    }\r\n    button {\r\n      margin-left: 0.2rem;\r\n      width: 20%;\r\n      height: 1rem;\r\n      line-height: 1rem;\r\n      background-color: #ccc;\r\n      border: 0;\r\n      font-size: 0.5rem;\r\n      font-weight: 600;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .messageyam {\r\n    input {\r\n      width: 50%;\r\n    }\r\n    button {\r\n      margin-left: 0.2rem;\r\n      width: 38%;\r\n      height: 0.8rem;\r\n      line-height: 0.8rem;\r\n    }\r\n  }\r\n  .userlogin {\r\n    margin-top: 0.5rem;\r\n    height: 1rem;\r\n    background-color: #b0352f;\r\n    line-height: 1rem;\r\n    text-align: center;\r\n    color: #fff;\r\n  }\r\n  .bbb {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    span {\r\n      font-size: 0.5rem;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n}\r\n.bisabled {\r\n  background-color: #575656;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=e32bd708&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=e32bd708&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e32bd708\",\n  null\n  \n)\n\nexport default component.exports","import request from \"./request\";\r\n//用户登录接口\r\nexport const userPasswordLogin = (tel, pwd) => {\r\n  return request({\r\n    url: \"/api/login/passwordLogin\",\r\n    method: \"post\",\r\n    data: {\r\n      tel,\r\n      pwd,\r\n    },\r\n  });\r\n};\r\n//获取短信验证码接口\r\nexport const getMsgCard = (phone) => {\r\n  return request({\r\n    url: \"/api/login/code\",\r\n    method: \"post\",\r\n    data: {\r\n      phone,\r\n    },\r\n  });\r\n};\r\n//注册接口\r\nexport const userRegister = (phone, password) => {\r\n  return request({\r\n    url: \"/api/login/adduser\",\r\n    method: \"post\",\r\n    data: {\r\n      phone,\r\n      password,\r\n    },\r\n  });\r\n};\r\n//用户短信验证码登录\r\nexport const codeLogin = (phone) => {\r\n  return request({\r\n    url: \"/api/login/userCodeLogin\",\r\n    method: \"post\",\r\n    data: {\r\n      phone,\r\n    },\r\n  });\r\n};\r\n//用户找回密码接口\r\nexport const userFindPassword = (phone, password) => {\r\n  return request({\r\n    url: \"/api/login/findPassword\",\r\n    method: \"post\",\r\n    data: {\r\n      phone,\r\n      password,\r\n    },\r\n  });\r\n};\r\n"],"names":["render","_vm","this","_c","_self","staticClass","on","goMyPage","_v","_s","headerName","goHomePage","staticRenderFns","name","props","methods","component","attrs","directives","rawName","value","userTel","expression","domProps","$event","target","composing","_m","userCode","class","disabled","sendCode","userLoginIn","goUserLogin","quickRegister","components","Header","Tabber","data","rules","rule","msg","code","console","Toast","message","duration","setTimeout","clearTimeout","validate","bool","userPasswordLogin","tel","pwd","request","url","method","getMsgCard","phone","userRegister","password","codeLogin","userFindPassword"],"sourceRoot":""}